define(["services/logger"],function(e){function n(){return f(v().slice()),h(u().slice()),m(l().slice()),w(i().slice()),e.log("Edit Cleaning Rota View Activated",null,"edit-cleaning-rota",!0),!0}function t(){$(".input-group.date").datepicker({autoclose:!0,todayHighlight:!0})}function r(){e.logSuccess("Settings Saved!",null,"edit-cleaning-rota",!0)}function o(){y("26 March '14"),k("Weekly"),e.log("Settings Reset!",null,"edit-cleaning-rota",!0)}function a(e){k(e)}function i(){var e=new ko.observableArray;return e.push({OptionName:"Weekly"}),e.push({OptionName:"Fortnightly"}),e.push({OptionName:"Monthly"}),e}function s(n,t){n.Group(t),e.logSuccess("Group Change Saved!",null,"edit-cleaning-rota",!0)}function l(){var e=new ko.observableArray;return e.push({Name:"Group 1"}),e.push({Name:"Group 2"}),e.push({Name:"Group 3"}),e.push({Name:"Group 4"}),e.push({Name:"Group 5"}),e.push({Name:"Group 6"}),e}function c(){var e=l(),n=Math.floor(Math.random()*e().length);return e()[n].Name}function u(){var e=new ko.observableArray;return e.push({TenantName:"Adam Barrell",Group:ko.observable(c())}),e.push({TenantName:"Tom Walton",Group:ko.observable(c())}),e.push({TenantName:"Chris Lewis",Group:ko.observable(c())}),e.push({TenantName:"Tom Milner",Group:ko.observable(c())}),e.push({TenantName:"Toby Webster",Group:ko.observable(c())}),e.push({TenantName:"Joss Whittle",Group:ko.observable(c())}),e}function d(){e.logSuccess("Communal Areas Saved!",null,"edit-cleaning-rota",!0)}function p(){f(v().slice()),e.log("Communal Areas Reset!",null,"edit-cleaning-rota",!0)}function v(){var e=new ko.observableArray;return e.push({Name:"Kitchen"}),e.push({Name:"Bathroom"}),e.push({Name:"Floors"}),e.push({Name:"Living Room"}),e}function b(){f.push({Name:C()}),C("")}function g(e){f.remove(e)}var f=new ko.observableArray,h=new ko.observableArray,m=new ko.observableArray,y=new ko.observable("26 March '14"),k=new ko.observable("Weekly"),w=new ko.observableArray,C=new ko.observable,A={activate:n,title:"Edit Cleaning Rota",attached:t,tenantGroups:h,rotaGroups:m,startDate:y,communalAreas:f,newCommunalArea:C,occuranceOptions:w,addAreaClicked:b,removeAreaClicked:g,saveAreasClicked:d,undoAreasClicked:p,saveSettingsClicked:r,undoSettingsClicked:o,groupOptionClicked:s,rotaOccurance:k,occuranceOptionClicked:a};return A});