define(["config"],function(e){function n(e){e.registerEntityTypeCtor("User",null,o),e.registerEntityTypeCtor("CommunalMessage",null,r),e.registerEntityTypeCtor("ActivityLog",null,a),e.registerEntityTypeCtor("Conversation",null,t)}function t(e){e.RecipientsString=ko.computed({read:function(){if(!e.ConversationUsers())return"";switch(e.ConversationUsers().length){case 0:return"";case 1:return e.ConversationUsers()[0].User().FirstName();case 2:return e.ConversationUsers()[0].User().FirstName()+", "+e.ConversationUsers()[1].User().FirstName()+":";default:return e.ConversationUsers()[0].User().FirstName()+", "+e.ConversationUsers()[1].User().FirstName()+", "+(e.ConversationUsers().length-2)+" others:"}},deferEvaluation:!0})}function r(e){e.TimeElapsed=ko.computed(function(){return moment.utc(e.SentDate()).fromNow()}),e.DisplayMessage=ko.computed({read:function(){return e.User()?e.Content()+" -- "+e.User().FirstName()+" "+e.User().LastName():e.Content()},deferEvaluation:!0})}function a(e){e.TimeElapsed=ko.computed(function(){return moment.utc(e.Date()).fromNow()}),e.DisplayMessage=ko.computed({read:function(){return e.User().FirstName()+" "+e.User().LastName()+" "+e.ActionMessage()},deferEvaluation:!0}),e.Icon=ko.computed(function(){var n="glyphicon glyphicon-tag";switch(e.LogName()){case"Bill":return"glyphicon glyphicon-gbp";case"Wish List":return"glyphicon glyphicon-heart";case"Bin Rota":return"glyphicon glyphicon-trash";case"Cleaning Rota":return"glyphicon glyphicon-list";case"House":return"glyphicon glyphicon-home";case"Tenant":return"glyphicon glyphicon-user";case"Message":return"glyphicon glyphicon-envelope"}return n})}function o(n){n.FullName=ko.computed(function(){return n.FirstName()+" "+n.LastName()}),n.DisplayPictureFilePath=ko.computed(function(){return n.DisplayPictureFileName()?e.profilePicturesDirectory+n.DisplayPictureFileName():e.profilePicturesDirectory+e.genericProfilePictureFileName})}var i={configureMetadataStore:n,userInitializer:o};return i});