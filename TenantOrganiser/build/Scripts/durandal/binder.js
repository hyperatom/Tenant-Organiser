define(["durandal/system","knockout"],function(e,n){function t(n){return void 0===n?{applyBindings:!0}:e.isBoolean(n)?{applyBindings:n}:(void 0===n.applyBindings&&(n.applyBindings=!0),n)}function r(r,c,u,d){if(!c||!u)return o.throwOnErrors?e.error(a):e.log(a,c,d),void 0;if(!c.getAttribute)return o.throwOnErrors?e.error(i):e.log(i,c,d),void 0;var p=c.getAttribute("data-view");try{var v;return r&&r.binding&&(v=r.binding(c)),v=t(v),o.binding(d,c,v),v.applyBindings?(e.log("Binding",p,d),n.applyBindings(u,c)):r&&n.utils.domData.set(c,l,{$data:r}),o.bindingComplete(d,c,v),r&&r.bindingComplete&&r.bindingComplete(c),n.utils.domData.set(c,s,v),v}catch(b){b.message=b.message+";\nView: "+p+";\nModuleId: "+e.getModuleId(d),o.throwOnErrors?e.error(b):e.log(b.message)}}var o,a="Insufficient Information to Bind",i="Unexpected View Type",s="durandal-binding-instruction",l="__ko_bindingContext__";return o={binding:e.noop,bindingComplete:e.noop,throwOnErrors:!1,getBindingInstruction:function(e){return n.utils.domData.get(e,s)},bindContext:function(e,n,t){return t&&e&&(e=e.createChildContext(t)),r(t,n,e,t||(e?e.$data:null))},bind:function(e,n){return r(e,n,e,e)}}});